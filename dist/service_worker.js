(()=>{"use strict";function e(e,n){return`https://filtru.xyz/extension-render/${e}?r=CivaNCZHcuk5xYBgtyOV0xtIeIr6CqNyB0caQ6o3R8hGChszeIVOWebXi2T4dJRYGBWrrhU1bvjPvEFkJRCUOkNDjdAuzb39${n}`}function n(e,n){fetch(`https://filtru.xyz/api/account/stats/update/${e}/add/${n}`).then((e=>e.json())).then((e=>(console.log(e),e)))}chrome.runtime.onInstalled.addListener((async n=>{"install"==n.reason&&chrome.tabs.create({url:e("installed")})})),chrome.tabs.onUpdated.addListener((function(t,o,s){o.url&&chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(t){var o,s=t[0];try{let t=new URL(s.url);t=t.hostname,o=t,fetch("https://raw.githubusercontent.com/DestroyPorn/NSFW-Websites/main/Lists/simple-list.json").then((e=>e.json())).then((t=>{var s=o.toString().split(".").reverse().splice(0,2).reverse().join(".");if(t.domains.includes(s))return n("stat_WebsitesBlocked",1),void chrome.tabs.query({active:!0},(function(n){chrome.tabs.update(n[0].id,{url:e("website-blocked",`&type=porn&domain=${o}`)})}))})),function(t,o){console.log(t),console.log(o);var s=["porn","sex","hentai","loli","bang","fuck","squirt","onlyfans"," ph ","pron","the hub","masturbation"," fap ","blowing","blowjob","blow job","handjob","hand job"];o.includes("&FILTRUIGNORESEARCHENGINEBLOCKED=true")||["www.google","bing.com","duckduckgo.com","you.com"].forEach((c=>{t.includes(c)&&(console.log("seach engine"),s.forEach((s=>{o.includes(s)&&(chrome.tabs.query({active:!0},(function(n){chrome.tabs.update(n[0].id,{url:e("search-engine-blocked",`&type=nsfw&domain=${t}&url=${o}&keyword=${s}`)})})),n("stat_WebsitesBlocked",1))})))}))}(t,s.url)}catch(e){}}))})),chrome.runtime.onMessageExternal.addListener((async function(e,n,t){if(e.extensionInstalled)try{t("true"),console.log("h")}catch(e){console.log(e)}if(e.greeting)try{t("ok"),console.log(e.greeting)}catch(e){console.log(e),t(e)}})),chrome.runtime.onMessage.addListener((async function(e,t,o){t.tab&&e.FILTRU_scanImage&&(n("stat_NsfwContentScanned","1"),console.log(e.FILTRU_scanImage))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFRTyxrQkFNMUIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpbHRydS8uL3NyYy9nZXRSZW5kZXJVcmwuanMiLCJ3ZWJwYWNrOi8vZmlsdHJ1Ly4vc3JjL3VwZGF0ZVN0YXRWYWx1ZS5qcyIsIndlYnBhY2s6Ly9maWx0cnUvLi9zcmMvc2VydmljZV93b3JrZXIuanMiLCJ3ZWJwYWNrOi8vZmlsdHJ1Ly4vc3JjL2NoZWNrVXJsLmpzIiwid2VicGFjazovL2ZpbHRydS8uL3NyYy9zZWFyY2hFbmdpbmVDaGVjay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRSZW5kZXJVcmwocmVuZGVyTmFtZSwgcGFyYW1zU3RyaW5nKSB7XHJcbiAgICAvL3BhcmFtc1N0cmluZyBhbHdheXMgYmVnaW4gd2l0aCAmIG5vdCA/XHJcbiAgICByZXR1cm4gYGh0dHBzOi8vZmlsdHJ1Lnh5ei9leHRlbnNpb24tcmVuZGVyLyR7cmVuZGVyTmFtZX0/cj1DaXZhTkNaSGN1azV4WUJndHlPVjB4dEllSXI2Q3FOeUIwY2FRNm8zUjhoR0Noc3plSVZPV2ViWGkyVDRkSlJZR0JXcnJoVTFidmpQdkVGa0pSQ1VPa05EamRBdXpiMzkke3BhcmFtc1N0cmluZ31gXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVTdGF0VmFsdWUoc3RhdE5hbWUsIHZhbHVlVG9BZGQpIHtcclxuICAgIGZldGNoKGBodHRwczovL2ZpbHRydS54eXovYXBpL2FjY291bnQvc3RhdHMvdXBkYXRlLyR7c3RhdE5hbWV9L2FkZC8ke3ZhbHVlVG9BZGR9YClcclxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcclxuICAgICAgICByZXR1cm4gcmVzXHJcbiAgICB9KTtcclxufSIsImltcG9ydCByYW5kb20gZnJvbSAncmFuZG9tJ1xyXG5pbXBvcnQgY2hlY2tVcmwgZnJvbSAnLi9jaGVja1VybCc7XHJcbmltcG9ydCBnZXRSZW5kZXJVcmwgZnJvbSAnLi9nZXRSZW5kZXJVcmwnO1xyXG5pbXBvcnQgdXBkYXRlU3RhdFZhbHVlIGZyb20gJy4vdXBkYXRlU3RhdFZhbHVlJztcclxuXHJcbmNocm9tZS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKGFzeW5jIChkZXRhaWxzKT0+e1xyXG4gICAgaWYoZGV0YWlscy5yZWFzb24gPT0gXCJpbnN0YWxsXCIpe1xyXG4gICAgICAgIGNocm9tZS50YWJzLmNyZWF0ZSh7dXJsIDogZ2V0UmVuZGVyVXJsKCdpbnN0YWxsZWQnKX0pOyAgICBcclxuICAgICAgICAvLyBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe21vZHVsZV9uc2Z3YmxvY2tlcjogYGVuYWJsZWRgfSk7XHJcbiAgICAgICAgLy8gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHttb2R1bGVfcGFzc3dvcmRhZHZpc29yOiBgZW5hYmxlZGB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5jaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb25cclxuICAgICh0YWJJZCwgY2hhbmdlSW5mbywgdGFiKSB7XHJcbiAgICAgIGlmIChjaGFuZ2VJbmZvLnVybCkge1xyXG4gICAgICAgIGNoZWNrVXJsKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRUYWJJZCgpe1xyXG4gIHRyeXtcclxuICAgICAgbGV0IHF1ZXJ5T3B0aW9ucyA9IHsgYWN0aXZlOiB0cnVlLCBsYXN0Rm9jdXNlZFdpbmRvdzogdHJ1ZSB9O1xyXG4gICAgICBsZXQgW3RhYl0gPSBhd2FpdCBjaHJvbWUudGFicy5xdWVyeShxdWVyeU9wdGlvbnMpO1xyXG4gICAgICByZXR1cm4gdGFiLmlkO1xyXG4gIH1jYXRjaChlcnIpe1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgfVxyXG59XHJcblxyXG5cclxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlRXh0ZXJuYWwuYWRkTGlzdGVuZXIoXHJcbiAgYXN5bmMgZnVuY3Rpb24ocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcclxuICAgIGlmKHJlcXVlc3QuZXh0ZW5zaW9uSW5zdGFsbGVkKXtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBzZW5kUmVzcG9uc2UoJ3RydWUnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaFwiKVxyXG4gICAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHJlcXVlc3QuZ3JlZXRpbmcpe1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHNlbmRSZXNwb25zZSgnb2snKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcXVlc3QuZ3JlZXRpbmcpXHJcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgc2VuZFJlc3BvbnNlKGVycm9yKVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJylcclxuICAvLyBjb25zdCB0ZiA9IHJlcXVpcmUoJ0B0ZW5zb3JmbG93L3RmanMnKVxyXG4gIC8vIGNvbnN0IG5zZncgPSByZXF1aXJlKCdAYmFrZWRwb3RhdG9sb3JkL25zZndqcycpXHJcbiAgLy8gY29uc3QgbW9kZWwgPSBhd2FpdCBuc2Z3LmxvYWQoKVxyXG5cclxuICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoXHJcbiAgICBhc3luYyBmdW5jdGlvbihyZXF1ZXN0LCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xyXG4gICAgICBpZihzZW5kZXIudGFiKXsgLy9pZiBmcm9tIGEgY29udGVudCBzY3JpcHRcclxuICAgICAgICBpZihyZXF1ZXN0LkZJTFRSVV9zY2FuSW1hZ2Upe1xyXG4gICAgICAgICAgdXBkYXRlU3RhdFZhbHVlKCdzdGF0X05zZndDb250ZW50U2Nhbm5lZCcsICcxJylcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcXVlc3QuRklMVFJVX3NjYW5JbWFnZSlcclxuICAgICAgICAgIC8vY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9maWx0cnUueHl6L2FwaS9haS92MS9yYXRlLz91cmw9JHtyZXF1ZXN0LkZJTFRSVV9zY2FuSW1hZ2Uuc3JjfWApO1xyXG4gICAgICAgICAgLy9jb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhqc29uKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcblxyXG4vLyAgIGNocm9tZS50YWJzLm9uVXBkYXRlZC5hZGRMaXN0ZW5lcihhc3luYyAodGFiSWQsIGluZm8pPT57XHJcbi8vICAgICBjb25zb2xlLmxvZyhcImRldGVjdGVkIHRhYiB1cGRhdGVcIilcclxuLy8gICAgIGlmIChpbmZvLnVybCkge1xyXG4vLyAgICAgICBjaHJvbWUuc2NyaXB0aW5nLlxyXG4vLyAgICAgZXhlY3V0ZVNjcmlwdCh7XHJcbi8vICAgICAgICAgdGFyZ2V0IDp7dGFiSWQ6IGF3YWl0IGdldEN1cnJlbnRUYWJJZCgpfSxcclxuLy8gICAgICAgICBmaWxlczogW1wiLi9kaXN0L2luamVjdG9yU2NyaXB0LmpzXCJdXHJcbi8vICAgICB9KVxyXG4vLyAgICAgfVxyXG4vLyB9KSIsImltcG9ydCBnZXRSZW5kZXJVcmwgZnJvbSBcIi4vZ2V0UmVuZGVyVXJsXCI7XHJcbmltcG9ydCBzZWFyY2hFbmdpbmVDaGVjayBmcm9tIFwiLi9zZWFyY2hFbmdpbmVDaGVja1wiO1xyXG5pbXBvcnQgdXBkYXRlU3RhdFZhbHVlIGZyb20gXCIuL3VwZGF0ZVN0YXRWYWx1ZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hlY2tVcmwoKSB7XHJcbiAgICBjaHJvbWUudGFicy5xdWVyeSh7XHJcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgIGxhc3RGb2N1c2VkV2luZG93OiB0cnVlXHJcbiAgICB9LCBmdW5jdGlvbih0YWJzKSB7XHJcbiAgICAgICAgdmFyIHRhYiA9IHRhYnNbMF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRvbWFpbiA9IChuZXcgVVJMKHRhYi51cmwpKTtcclxuICAgICAgICAgICAgZG9tYWluID0gZG9tYWluLmhvc3RuYW1lO1xyXG5cclxuICAgICAgICAgICAgZmV0Y2hBbmRDaGVjayhkb21haW4pXHJcbiAgICAgICAgICAgIHNlYXJjaEVuZ2luZUNoZWNrKGRvbWFpbiwgdGFiLnVybClcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmZXRjaEFuZENoZWNrKGRvbWFpbk5hbWUpe1xyXG4gICAgICAgICAgICBmZXRjaCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0Rlc3Ryb3lQb3JuL05TRlctV2Vic2l0ZXMvbWFpbi9MaXN0cy9zaW1wbGUtbGlzdC5qc29uJykgLy9hIGxpc3Qgb2YgbnNmdyB3ZWJzaXRlcy5cclxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgICAgIC50aGVuKChmZXRjaGVkTGlzdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9IGRvbWFpbk5hbWUudG9TdHJpbmcoKS5zcGxpdCgnLicpLnJldmVyc2UoKS5zcGxpY2UoMCwyKS5yZXZlcnNlKCkuam9pbignLicpXHJcblxyXG4gICAgICAgICAgICAgICAgaWYoZmV0Y2hlZExpc3QuZG9tYWlucy5pbmNsdWRlcyhkb21haW4pKXtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0VmFsdWUoJ3N0YXRfV2Vic2l0ZXNCbG9ja2VkJywgMSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUgfSwgZnVuY3Rpb24odGFicykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUudGFicy51cGRhdGUodGFic1swXS5pZCwgeyB1cmw6IGdldFJlbmRlclVybCgnd2Vic2l0ZS1ibG9ja2VkJywgYCZ0eXBlPXBvcm4mZG9tYWluPSR7ZG9tYWluTmFtZX1gKSB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrRnJvbUNsb3NlKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcIkRlc3Ryb3lQb3JuIHwgVGhpcyB0YWIgY29udGFpbmVkIGFkdWx0IGNvbnRlbnQuXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7IFxyXG59IiwiaW1wb3J0IGdldFJlbmRlclVybCBmcm9tIFwiLi9nZXRSZW5kZXJVcmxcIjtcclxuaW1wb3J0IHVwZGF0ZVN0YXRWYWx1ZSBmcm9tIFwiLi91cGRhdGVTdGF0VmFsdWVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlYXJjaEVuZ2luZUNoZWNrKGRvbWFpbiwgdXJsKSB7XHJcbiAgICBjb25zb2xlLmxvZyhkb21haW4pXHJcbiAgICBjb25zb2xlLmxvZyh1cmwpXHJcbiAgICB2YXIgc2VhcmNoRW5naW5lcyA9IFsnd3d3Lmdvb2dsZScsICdiaW5nLmNvbScsICdkdWNrZHVja2dvLmNvbScsICd5b3UuY29tJ10gLy9vbmx5IHRoZXNlIGFyZSBzdXBwb3J0ZWRcclxuICAgIHZhciB0cmlnZ2VyS2V5d29yZHMgPSBbJ3Bvcm4nLCAnc2V4JywgJ2hlbnRhaScsICdsb2xpJywgJ2JhbmcnLCAnZnVjaycsICdzcXVpcnQnLCAnb25seWZhbnMnLCAnIHBoICcsICdwcm9uJywgJ3RoZSBodWInLCAnbWFzdHVyYmF0aW9uJywgJyBmYXAgJywgJ2Jsb3dpbmcnLCAnYmxvd2pvYicsICdibG93IGpvYicsICdoYW5kam9iJywgJ2hhbmQgam9iJ11cclxuXHJcbiAgICBpZih1cmwuaW5jbHVkZXMoXCImRklMVFJVSUdOT1JFU0VBUkNIRU5HSU5FQkxPQ0tFRD10cnVlXCIpKXtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2VhcmNoRW5naW5lcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIGlmKGRvbWFpbi5pbmNsdWRlcyhlbGVtZW50KSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWFjaCBlbmdpbmUnKVxyXG4gICAgICAgICAgICB0cmlnZ2VyS2V5d29yZHMuZm9yRWFjaChrZXl3b3JkID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHVybC5pbmNsdWRlcyhrZXl3b3JkKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUgfSwgZnVuY3Rpb24odGFicykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUudGFicy51cGRhdGUodGFic1swXS5pZCwgeyB1cmw6IGdldFJlbmRlclVybCgnc2VhcmNoLWVuZ2luZS1ibG9ja2VkJywgYCZ0eXBlPW5zZncmZG9tYWluPSR7ZG9tYWlufSZ1cmw9JHt1cmx9JmtleXdvcmQ9JHtrZXl3b3JkfWApIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXRWYWx1ZSgnc3RhdF9XZWJzaXRlc0Jsb2NrZWQnLCAxKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSJdLCJuYW1lcyI6WyJnZXRSZW5kZXJVcmwiLCJyZW5kZXJOYW1lIiwicGFyYW1zU3RyaW5nIiwidXBkYXRlU3RhdFZhbHVlIiwic3RhdE5hbWUiLCJ2YWx1ZVRvQWRkIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwicmVzIiwiY29uc29sZSIsImxvZyIsImNocm9tZSIsInJ1bnRpbWUiLCJvbkluc3RhbGxlZCIsImFkZExpc3RlbmVyIiwiYXN5bmMiLCJkZXRhaWxzIiwicmVhc29uIiwidGFicyIsImNyZWF0ZSIsInVybCIsIm9uVXBkYXRlZCIsInRhYklkIiwiY2hhbmdlSW5mbyIsInRhYiIsInF1ZXJ5IiwiYWN0aXZlIiwibGFzdEZvY3VzZWRXaW5kb3ciLCJkb21haW5OYW1lIiwiZG9tYWluIiwiVVJMIiwiaG9zdG5hbWUiLCJmZXRjaGVkTGlzdCIsInRvU3RyaW5nIiwic3BsaXQiLCJyZXZlcnNlIiwic3BsaWNlIiwiam9pbiIsImRvbWFpbnMiLCJpbmNsdWRlcyIsInVwZGF0ZSIsImlkIiwidHJpZ2dlcktleXdvcmRzIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJrZXl3b3JkIiwic2VhcmNoRW5naW5lQ2hlY2siLCJlcnIiLCJvbk1lc3NhZ2VFeHRlcm5hbCIsInJlcXVlc3QiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJleHRlbnNpb25JbnN0YWxsZWQiLCJlcnJvciIsImdyZWV0aW5nIiwib25NZXNzYWdlIiwiRklMVFJVX3NjYW5JbWFnZSJdLCJzb3VyY2VSb290IjoiIn0=